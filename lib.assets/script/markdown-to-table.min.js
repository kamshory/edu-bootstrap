function createLineObject(e,t){let n=t.split("|").length-1,l=t.replace(/[^-\|]/gi,""),r=t.replace(/\s/g,""),a=l==r&&r.length>1;return{lineNumber:parseInt(e),content:t,pipe:n,pipeDash:a,startTable:!1,inTable:!1,endTable:!1}}function detectTable(e){let t=e;e=e.split("\r\n").join("\n"),t=t.split("\r\n").join("\n");let n=e.split("\n"),l=t.split("\n"),r=[];for(let e in n)l[e]=n[e].trim(),r.push(createLineObject(e,l[e]));let a=!1,i=[];for(let e=1,t=0;e<r.length;e++)r[e].pipeDash&&r[e-1].pipe>0&&(a=!0,r[e].inTable=!0,r[e-1].startTable=!0,i[t]=[],i[t].push(r[e-1]),i[t].push(r[e])),a&&!r[e].pipeDash&&r[e].pipe>0&&(r[e].inTable=!0,e==r.length-1&&(r[e].endTable=!0),i[t].push(r[e])),a&&0==r[e].pipe&&(a=!1,r[e-1].endTable=!0,t++);for(let e in n)n[e]=n[e]+"<br />";for(let e in i){let t=i[e];for(let e in t){let l="";t[e].startTable?l=createTableHeader(t[e].content):t[e].inTable&&(t[e].pipeDash||(l=t[e].endTable?createTableContent(t[e].content)+"</tbody></table>":createTableContent(t[e].content))),n[t[e].lineNumber]=l}}return n.join("\r\n")}function createTableHeader(e){e=e.trim();let t=e.split("|"),n='<table class="table table-bordered"><thead><tr>';for(let e=0;e<t.length;e++)(0==e&&""!=t[e]||e==t.length-1&&""!=t[e]||""!=t[e])&&(n+="<td>"+t[e]+"</td>");return n+="</tr></thead><tbody>",n}function createTableContent(e){e=e.trim();let t=e.split("|"),n="<tr>";for(let e=0;e<t.length;e++)(0==e&&""!=t[e]||e==t.length-1&&""!=t[e]||""!=t[e])&&(n+="<td>"+t[e]+"</td>");return n+="</tr>",n}