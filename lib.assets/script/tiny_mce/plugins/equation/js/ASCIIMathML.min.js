var asciimath={};!function(){var mathcolor="",mathfontsize="1em",mathfontfamily="serif",automathrecognize=!1,checkForMathML=!0,notifyIfNoMathML=!0,alertIfNoMathML=!1,translateOnLoad=!0,translateASCIIMath=!0,displaystyle=!0,showasciiformulaonhover=!0,decimalsign=".",AMdelimiter1="`",AMescape1="\\\\`",AMdocumentId="wikitext",fixphi=!0,isIE="Microsoft"==navigator.appName.slice(0,9),noMathML=!1,translated=!1;function setStylesheet(s){var id="AMMLcustomStyleSheet",n=document.getElementById(id);document.createStyleSheet?(n&&n.parentNode.removeChild(n),document.getElementsByTagName("head")[0].insertAdjacentHTML("beforeEnd","&nbsp;<style id='"+id+"'>"+s+"</style>")):n?n.replaceChild(document.createTextNode(s),n.firstChild):((n=document.createElement("style")).type="text/css",n.id=id,n.appendChild(document.createTextNode(s)),document.getElementsByTagName("head")[0].appendChild(n))}function init(){var msg,warnings=new Array;return(msg=checkMathML())&&warnings.push(msg),noMathML||initSymbols(),!0}function checkMathML(){if("Netscape"==navigator.appName.slice(0,8))noMathML=!(navigator.appVersion.slice(0,1)>="5")||null;else if("Microsoft"==navigator.appName.slice(0,9))try{var ActiveX=new ActiveXObject("MathPlayer.Factory.1");noMathML=null}catch(e){noMathML=!0}else"Opera"==navigator.appName.slice(0,5)&&(noMathML=!(navigator.appVersion.slice(0,3)>="9.5")||null);if(noMathML){var msg="To view the ASCIIMathML notation use Internet Explorer + MathPlayer or Mozilla Firefox 2.0 or later.";return msg}}function createElementXHTML(t){return isIE?document.createElement(t):document.createElementNS("http://www.w3.org/1999/xhtml",t)}isIE&&(document.write('<object id="mathplayer"  classid="clsid:32F66A20-7614-11D4-BD11-00104BD3F987"></object>'),document.write('<?import namespace="m" implementation="#mathplayer"?>')),setStylesheet("#AMMLcloseDiv {font-size:0.8em; padding-top:1em; color:#014}\n#AMMLwarningBox {position:absolute; width:100%; top:0; left:0; z-index:200; text-align:center; font-size:1em; font-weight:bold; padding:0.5em 0 0.5em 0; color:#ffc; background:#c30}");var AMmathml="http://www.w3.org/1998/Math/MathML";function AMcreateElementMathML(t){return isIE?document.createElement("m:"+t):document.createElementNS(AMmathml,t)}function createMmlNode(t,frag){var node;return node=isIE?document.createElement("m:"+t):document.createElementNS(AMmathml,t),frag&&node.appendChild(frag),node}function createRootNode(mi,mn){var t="mroot",node;return node=isIE?document.createElement("m:"+t):document.createElementNS(AMmathml,t),mi&&node.appendChild(mi),mn&&node.appendChild(mn),node}function newcommand(oldstr,newstr){AMsymbols.push({input:oldstr,tag:"mo",output:newstr,tex:null,ttype:DEFINITION}),refreshSymbols()}function newsymbol(symbolobj){AMsymbols.push(symbolobj),refreshSymbols()}var AMcal=["𝒜","ℬ","𝒞","𝒟","ℰ","ℱ","𝒢","ℋ","ℐ","𝒥","𝒦","ℒ","ℳ","𝒩","𝒪","𝒫","𝒬","ℛ","𝒮","𝒯","𝒰","𝒱","𝒲","𝒳","𝒴","𝒵","𝒶","𝒷","𝒸","𝒹","ℯ","𝒻","ℊ","𝒽","𝒾","𝒿","𝓀","𝓁","𝓂","𝓃","ℴ","𝓅","𝓆","𝓇","𝓈","𝓉","𝓊","𝓋","𝓌","𝓍","𝓎","𝓏"],AMfrk=["𝔄","𝔅","ℭ","𝔇","𝔈","𝔉","𝔊","ℌ","ℑ","𝔍","𝔎","𝔏","𝔐","𝔑","𝔒","𝔓","𝔔","ℜ","𝔖","𝔗","𝔘","𝔙","𝔚","𝔛","𝔜","ℨ","𝔞","𝔟","𝔠","𝔡","𝔢","𝔣","𝔤","𝔥","𝔦","𝔧","𝔨","𝔩","𝔪","𝔫","𝔬","𝔭","𝔮","𝔯","𝔰","𝔱","𝔲","𝔳","𝔴","𝔵","𝔶","𝔷"],AMbbb=["𝔸","𝔹","ℂ","𝔻","𝔼","𝔽","𝔾","ℍ","𝕀","𝕁","𝕂","𝕃","𝕄","ℕ","𝕆","ℙ","ℚ","ℝ","𝕊","𝕋","𝕌","𝕍","𝕎","𝕏","𝕐","ℤ","𝕒","𝕓","𝕔","𝕕","𝕖","𝕗","𝕘","𝕙","𝕚","𝕛","𝕜","𝕝","𝕞","𝕟","𝕠","𝕡","𝕢","𝕣","𝕤","𝕥","𝕦","𝕧","𝕨","𝕩","𝕪","𝕫"],CONST=0,UNARY=1,BINARY=2,INFIX=3,LEFTBRACKET=4,RIGHTBRACKET=5,SPACE=6,UNDEROVER=7,DEFINITION=8,LEFTRIGHT=9,TEXT=10,BIG=11,LONG=12,STRETCHY=13,MATRIX=14,UNARYUNDEROVER=15,AMquote={input:'"',tag:"mtext",output:"mbox",tex:null,ttype:10},AMsymbols=[{input:"alpha",tag:"mi",output:"α",tex:null,ttype:0},{input:"beta",tag:"mi",output:"β",tex:null,ttype:0},{input:"chi",tag:"mi",output:"χ",tex:null,ttype:0},{input:"delta",tag:"mi",output:"δ",tex:null,ttype:0},{input:"Delta",tag:"mo",output:"Δ",tex:null,ttype:0},{input:"epsi",tag:"mi",output:"ε",tex:"epsilon",ttype:0},{input:"varepsilon",tag:"mi",output:"ɛ",tex:null,ttype:0},{input:"eta",tag:"mi",output:"η",tex:null,ttype:0},{input:"gamma",tag:"mi",output:"γ",tex:null,ttype:0},{input:"Gamma",tag:"mo",output:"Γ",tex:null,ttype:0},{input:"iota",tag:"mi",output:"ι",tex:null,ttype:0},{input:"kappa",tag:"mi",output:"κ",tex:null,ttype:0},{input:"lambda",tag:"mi",output:"λ",tex:null,ttype:0},{input:"Lambda",tag:"mo",output:"Λ",tex:null,ttype:0},{input:"lamda",tag:"mi",output:"λ",tex:null,ttype:0},{input:"Lamda",tag:"mo",output:"Λ",tex:null,ttype:0},{input:"mu",tag:"mi",output:"μ",tex:null,ttype:0},{input:"nu",tag:"mi",output:"ν",tex:null,ttype:0},{input:"omega",tag:"mi",output:"ω",tex:null,ttype:0},{input:"Omega",tag:"mo",output:"Ω",tex:null,ttype:0},{input:"phi",tag:"mi",output:"ϕ",tex:null,ttype:0},{input:"varphi",tag:"mi",output:"φ",tex:null,ttype:0},{input:"Phi",tag:"mo",output:"Φ",tex:null,ttype:0},{input:"pi",tag:"mi",output:"π",tex:null,ttype:0},{input:"Pi",tag:"mo",output:"Π",tex:null,ttype:0},{input:"psi",tag:"mi",output:"ψ",tex:null,ttype:0},{input:"Psi",tag:"mi",output:"Ψ",tex:null,ttype:0},{input:"rho",tag:"mi",output:"ρ",tex:null,ttype:0},{input:"sigma",tag:"mi",output:"σ",tex:null,ttype:0},{input:"Sigma",tag:"mo",output:"Σ",tex:null,ttype:0},{input:"tau",tag:"mi",output:"τ",tex:null,ttype:0},{input:"theta",tag:"mi",output:"θ",tex:null,ttype:0},{input:"vartheta",tag:"mi",output:"ϑ",tex:null,ttype:0},{input:"Theta",tag:"mo",output:"Θ",tex:null,ttype:0},{input:"upsilon",tag:"mi",output:"υ",tex:null,ttype:0},{input:"xi",tag:"mi",output:"ξ",tex:null,ttype:0},{input:"Xi",tag:"mo",output:"Ξ",tex:null,ttype:0},{input:"zeta",tag:"mi",output:"ζ",tex:null,ttype:0},{input:"*",tag:"mo",output:"⋅",tex:"cdot",ttype:0},{input:"**",tag:"mo",output:"∗",tex:"ast",ttype:0},{input:"***",tag:"mo",output:"⋆",tex:"star",ttype:0},{input:"//",tag:"mo",output:"/",tex:null,ttype:0},{input:"\\\\",tag:"mo",output:"\\",tex:"backslash",ttype:0},{input:"setminus",tag:"mo",output:"\\",tex:null,ttype:0},{input:"xx",tag:"mo",output:"×",tex:"times",ttype:0},{input:"|><",tag:"mo",output:"⋉",tex:"ltimes",ttype:0},{input:"><|",tag:"mo",output:"⋊",tex:"rtimes",ttype:0},{input:"|><|",tag:"mo",output:"⋈",tex:"bowtie",ttype:0},{input:"-:",tag:"mo",output:"÷",tex:"div",ttype:0},{input:"divide",tag:"mo",output:"-:",tex:null,ttype:DEFINITION},{input:"@",tag:"mo",output:"∘",tex:"circ",ttype:0},{input:"o+",tag:"mo",output:"⊕",tex:"oplus",ttype:0},{input:"ox",tag:"mo",output:"⊗",tex:"otimes",ttype:0},{input:"o.",tag:"mo",output:"⊙",tex:"odot",ttype:0},{input:"sum",tag:"mo",output:"∑",tex:null,ttype:7},{input:"prod",tag:"mo",output:"∏",tex:null,ttype:7},{input:"^^",tag:"mo",output:"∧",tex:"wedge",ttype:0},{input:"^^^",tag:"mo",output:"⋀",tex:"bigwedge",ttype:7},{input:"vv",tag:"mo",output:"∨",tex:"vee",ttype:0},{input:"vvv",tag:"mo",output:"⋁",tex:"bigvee",ttype:7},{input:"nn",tag:"mo",output:"∩",tex:"cap",ttype:0},{input:"nnn",tag:"mo",output:"⋂",tex:"bigcap",ttype:7},{input:"uu",tag:"mo",output:"∪",tex:"cup",ttype:0},{input:"uuu",tag:"mo",output:"⋃",tex:"bigcup",ttype:7},{input:"!=",tag:"mo",output:"≠",tex:"ne",ttype:0},{input:":=",tag:"mo",output:":=",tex:null,ttype:0},{input:"lt",tag:"mo",output:"<",tex:null,ttype:0},{input:"<=",tag:"mo",output:"≤",tex:"le",ttype:0},{input:"lt=",tag:"mo",output:"≤",tex:"leq",ttype:0},{input:"gt",tag:"mo",output:">",tex:null,ttype:0},{input:">=",tag:"mo",output:"≥",tex:"ge",ttype:0},{input:"gt=",tag:"mo",output:"≥",tex:"geq",ttype:0},{input:"-<",tag:"mo",output:"≺",tex:"prec",ttype:0},{input:"-lt",tag:"mo",output:"≺",tex:null,ttype:0},{input:">-",tag:"mo",output:"≻",tex:"succ",ttype:0},{input:"-<=",tag:"mo",output:"⪯",tex:"preceq",ttype:0},{input:">-=",tag:"mo",output:"⪰",tex:"succeq",ttype:0},{input:"in",tag:"mo",output:"∈",tex:null,ttype:0},{input:"!in",tag:"mo",output:"∉",tex:"notin",ttype:0},{input:"sub",tag:"mo",output:"⊂",tex:"subset",ttype:0},{input:"sup",tag:"mo",output:"⊃",tex:"supset",ttype:0},{input:"sube",tag:"mo",output:"⊆",tex:"subseteq",ttype:0},{input:"supe",tag:"mo",output:"⊇",tex:"supseteq",ttype:0},{input:"-=",tag:"mo",output:"≡",tex:"equiv",ttype:0},{input:"~=",tag:"mo",output:"≅",tex:"cong",ttype:0},{input:"~~",tag:"mo",output:"≈",tex:"approx",ttype:0},{input:"prop",tag:"mo",output:"∝",tex:"propto",ttype:0},{input:"and",tag:"mtext",output:"and",tex:null,ttype:6},{input:"or",tag:"mtext",output:"or",tex:null,ttype:6},{input:"not",tag:"mo",output:"¬",tex:"neg",ttype:0},{input:"=>",tag:"mo",output:"⇒",tex:"implies",ttype:0},{input:"if",tag:"mo",output:"if",tex:null,ttype:6},{input:"<=>",tag:"mo",output:"⇔",tex:"iff",ttype:0},{input:"AA",tag:"mo",output:"∀",tex:"forall",ttype:0},{input:"EE",tag:"mo",output:"∃",tex:"exists",ttype:0},{input:"_|_",tag:"mo",output:"⊥",tex:"bot",ttype:0},{input:"TT",tag:"mo",output:"⊤",tex:"top",ttype:0},{input:"|--",tag:"mo",output:"⊢",tex:"vdash",ttype:0},{input:"|==",tag:"mo",output:"⊨",tex:"models",ttype:0},{input:"(",tag:"mo",output:"(",tex:null,ttype:4},{input:")",tag:"mo",output:")",tex:null,ttype:5},{input:"[",tag:"mo",output:"[",tex:null,ttype:4},{input:"]",tag:"mo",output:"]",tex:null,ttype:5},{input:"{",tag:"mo",output:"{",tex:null,ttype:4},{input:"}",tag:"mo",output:"}",tex:null,ttype:5},{input:"|",tag:"mo",output:"|",tex:null,ttype:9},{input:"(:",tag:"mo",output:"〈",tex:"langle",ttype:4},{input:":)",tag:"mo",output:"〉",tex:"rangle",ttype:5},{input:"<<",tag:"mo",output:"〈",tex:null,ttype:4},{input:">>",tag:"mo",output:"〉",tex:null,ttype:5},{input:"{:",tag:"mo",output:"{:",tex:null,ttype:4,invisible:!0},{input:":}",tag:"mo",output:":}",tex:null,ttype:5,invisible:!0},{input:"iiiint",tag:"mo",output:"⨌",tex:null,ttype:0},{input:"oiiint",tag:"mo",output:"∰",tex:null,ttype:0},{input:"iiint",tag:"mo",output:"∭",tex:null,ttype:0},{input:"oiint",tag:"mo",output:"∯",tex:null,ttype:0},{input:"iint",tag:"mo",output:"∬",tex:null,ttype:0},{input:"oint",tag:"mo",output:"∮",tex:null,ttype:0},{input:"int",tag:"mo",output:"∫",tex:null,ttype:0},{input:"dx",tag:"mi",output:"{:d x:}",tex:null,ttype:DEFINITION},{input:"dy",tag:"mi",output:"{:d y:}",tex:null,ttype:DEFINITION},{input:"dz",tag:"mi",output:"{:d z:}",tex:null,ttype:DEFINITION},{input:"dt",tag:"mi",output:"{:d t:}",tex:null,ttype:DEFINITION},{input:"del",tag:"mo",output:"∂",tex:"partial",ttype:0},{input:"grad",tag:"mo",output:"∇",tex:"nabla",ttype:0},{input:"+-",tag:"mo",output:"±",tex:"pm",ttype:0},{input:"O/",tag:"mo",output:"∅",tex:"emptyset",ttype:0},{input:"oo",tag:"mo",output:"∞",tex:"infty",ttype:0},{input:"aleph",tag:"mo",output:"ℵ",tex:null,ttype:0},{input:"...",tag:"mo",output:"...",tex:"ldots",ttype:0},{input:":.",tag:"mo",output:"∴",tex:"therefore",ttype:0},{input:":'",tag:"mo",output:"∵",tex:"because",ttype:0},{input:"/_",tag:"mo",output:"∠",tex:"angle",ttype:0},{input:"/_\\",tag:"mo",output:"△",tex:"triangle",ttype:0},{input:"'",tag:"mo",output:"′",tex:"prime",ttype:0},{input:"tilde",tag:"mover",output:"~",tex:null,ttype:1,acc:!0},{input:"\\ ",tag:"mo",output:" ",tex:null,ttype:0},{input:"frown",tag:"mo",output:"⌢",tex:null,ttype:0},{input:"quad",tag:"mo",output:"  ",tex:null,ttype:0},{input:"qquad",tag:"mo",output:"    ",tex:null,ttype:0},{input:"cdots",tag:"mo",output:"⋯",tex:null,ttype:0},{input:"vdots",tag:"mo",output:"⋮",tex:null,ttype:0},{input:"ddots",tag:"mo",output:"⋱",tex:null,ttype:0},{input:"diamond",tag:"mo",output:"⋄",tex:null,ttype:0},{input:"square",tag:"mo",output:"□",tex:null,ttype:0},{input:"|__",tag:"mo",output:"⌊",tex:"lfloor",ttype:0},{input:"__|",tag:"mo",output:"⌋",tex:"rfloor",ttype:0},{input:"|~",tag:"mo",output:"⌈",tex:"lceiling",ttype:0},{input:"~|",tag:"mo",output:"⌉",tex:"rceiling",ttype:0},{input:"CC",tag:"mo",output:"ℂ",tex:null,ttype:0},{input:"NN",tag:"mo",output:"ℕ",tex:null,ttype:0},{input:"QQ",tag:"mo",output:"ℚ",tex:null,ttype:0},{input:"RR",tag:"mo",output:"ℝ",tex:null,ttype:0},{input:"ZZ",tag:"mo",output:"ℤ",tex:null,ttype:0},{input:"f",tag:"mi",output:"f",tex:null,ttype:1,func:!0},{input:"g",tag:"mi",output:"g",tex:null,ttype:1,func:!0},{input:"lim",tag:"mo",output:"lim",tex:null,ttype:7},{input:"Lim",tag:"mo",output:"Lim",tex:null,ttype:7},{input:"sin",tag:"mo",output:"sin",tex:null,ttype:1,func:!0},{input:"cos",tag:"mo",output:"cos",tex:null,ttype:1,func:!0},{input:"tan",tag:"mo",output:"tan",tex:null,ttype:1,func:!0},{input:"sinh",tag:"mo",output:"sinh",tex:null,ttype:1,func:!0},{input:"cosh",tag:"mo",output:"cosh",tex:null,ttype:1,func:!0},{input:"tanh",tag:"mo",output:"tanh",tex:null,ttype:1,func:!0},{input:"cot",tag:"mo",output:"cot",tex:null,ttype:1,func:!0},{input:"sec",tag:"mo",output:"sec",tex:null,ttype:1,func:!0},{input:"csc",tag:"mo",output:"csc",tex:null,ttype:1,func:!0},{input:"arcsin",tag:"mo",output:"arcsin",tex:null,ttype:1,func:!0},{input:"arccos",tag:"mo",output:"arccos",tex:null,ttype:1,func:!0},{input:"arctan",tag:"mo",output:"arctan",tex:null,ttype:1,func:!0},{input:"coth",tag:"mo",output:"coth",tex:null,ttype:1,func:!0},{input:"sech",tag:"mo",output:"sech",tex:null,ttype:1,func:!0},{input:"csch",tag:"mo",output:"csch",tex:null,ttype:1,func:!0},{input:"exp",tag:"mo",output:"exp",tex:null,ttype:1,func:!0},{input:"abs",tag:"mo",output:"abs",tex:null,ttype:1,rewriteleftright:["|","|"]},{input:"norm",tag:"mo",output:"norm",tex:null,ttype:1,rewriteleftright:["∥","∥"]},{input:"floor",tag:"mo",output:"floor",tex:null,ttype:1,rewriteleftright:["⌊","⌋"]},{input:"ceil",tag:"mo",output:"ceil",tex:null,ttype:1,rewriteleftright:["⌈","⌉"]},{input:"log",tag:"mo",output:"log",tex:null,ttype:1,func:!0},{input:"ln",tag:"mo",output:"ln",tex:null,ttype:1,func:!0},{input:"det",tag:"mo",output:"det",tex:null,ttype:1,func:!0},{input:"dim",tag:"mo",output:"dim",tex:null,ttype:0},{input:"mod",tag:"mo",output:"mod",tex:null,ttype:0},{input:"gcd",tag:"mo",output:"gcd",tex:null,ttype:1,func:!0},{input:"lcm",tag:"mo",output:"lcm",tex:null,ttype:1,func:!0},{input:"lub",tag:"mo",output:"lub",tex:null,ttype:0},{input:"glb",tag:"mo",output:"glb",tex:null,ttype:0},{input:"min",tag:"mo",output:"min",tex:null,ttype:7},{input:"max",tag:"mo",output:"max",tex:null,ttype:7},{input:"uarr",tag:"mo",output:"↑",tex:"uparrow",ttype:0},{input:"darr",tag:"mo",output:"↓",tex:"downarrow",ttype:0},{input:"rarr",tag:"mo",output:"→",tex:"rightarrow",ttype:0},{input:"->",tag:"mo",output:"→",tex:"to",ttype:0},{input:">->",tag:"mo",output:"↣",tex:"rightarrowtail",ttype:0},{input:"->>",tag:"mo",output:"↠",tex:"twoheadrightarrow",ttype:0},{input:">->>",tag:"mo",output:"⤖",tex:"twoheadrightarrowtail",ttype:0},{input:"|->",tag:"mo",output:"↦",tex:"mapsto",ttype:0},{input:"larr",tag:"mo",output:"←",tex:"leftarrow",ttype:0},{input:"harr",tag:"mo",output:"↔",tex:"leftrightarrow",ttype:0},{input:"rArr",tag:"mo",output:"⇒",tex:"Rightarrow",ttype:0},{input:"lArr",tag:"mo",output:"⇐",tex:"Leftarrow",ttype:0},{input:"hArr",tag:"mo",output:"⇔",tex:"Leftrightarrow",ttype:0},{input:"sqrt",tag:"msqrt",output:"sqrt",tex:null,ttype:1},{input:"root",tag:"mroot",output:"root",tex:null,ttype:2},{input:"frac",tag:"mfrac",output:"/",tex:null,ttype:2},{input:"/",tag:"mfrac",output:"/",tex:null,ttype:3},{input:"stackrel",tag:"mover",output:"stackrel",tex:null,ttype:2},{input:"overset",tag:"mover",output:"stackrel",tex:null,ttype:2},{input:"underset",tag:"munder",output:"stackrel",tex:null,ttype:2},{input:"_",tag:"msub",output:"_",tex:null,ttype:3},{input:"^",tag:"msup",output:"^",tex:null,ttype:3},{input:"hat",tag:"mover",output:"^",tex:null,ttype:1,acc:!0},{input:"bar",tag:"mover",output:"¯",tex:"overline",ttype:1,acc:!0},{input:"vec",tag:"mover",output:"→",tex:null,ttype:1,acc:!0},{input:"dot",tag:"mover",output:".",tex:null,ttype:1,acc:!0},{input:"ddot",tag:"mover",output:"..",tex:null,ttype:1,acc:!0},{input:"ul",tag:"munder",output:"̲",tex:"underline",ttype:1,acc:!0},{input:"ubrace",tag:"munder",output:"⏟",tex:"underbrace",ttype:15,acc:!0},{input:"obrace",tag:"mover",output:"⏞",tex:"overbrace",ttype:15,acc:!0},{input:"text",tag:"mtext",output:"text",tex:null,ttype:10},{input:"mbox",tag:"mtext",output:"mbox",tex:null,ttype:10},{input:"color",tag:"mstyle",ttype:2},{input:"cancel",tag:"menclose",output:"cancel",tex:null,ttype:1},AMquote,{input:"bb",tag:"mstyle",atname:"mathvariant",atval:"bold",output:"bb",tex:null,ttype:1},{input:"mathbf",tag:"mstyle",atname:"mathvariant",atval:"bold",output:"mathbf",tex:null,ttype:1},{input:"sf",tag:"mstyle",atname:"mathvariant",atval:"sans-serif",output:"sf",tex:null,ttype:1},{input:"mathsf",tag:"mstyle",atname:"mathvariant",atval:"sans-serif",output:"mathsf",tex:null,ttype:1},{input:"bbb",tag:"mstyle",atname:"mathvariant",atval:"double-struck",output:"bbb",tex:null,ttype:1,codes:AMbbb},{input:"mathbb",tag:"mstyle",atname:"mathvariant",atval:"double-struck",output:"mathbb",tex:null,ttype:1,codes:AMbbb},{input:"cc",tag:"mstyle",atname:"mathvariant",atval:"script",output:"cc",tex:null,ttype:1,codes:AMcal},{input:"mathcal",tag:"mstyle",atname:"mathvariant",atval:"script",output:"mathcal",tex:null,ttype:1,codes:AMcal},{input:"tt",tag:"mstyle",atname:"mathvariant",atval:"monospace",output:"tt",tex:null,ttype:1},{input:"mathtt",tag:"mstyle",atname:"mathvariant",atval:"monospace",output:"mathtt",tex:null,ttype:1},{input:"fr",tag:"mstyle",atname:"mathvariant",atval:"fraktur",output:"fr",tex:null,ttype:1,codes:AMfrk},{input:"mathfrak",tag:"mstyle",atname:"mathvariant",atval:"fraktur",output:"mathfrak",tex:null,ttype:1,codes:AMfrk}];function compareNames(s1,s2){return s1.input>s2.input?1:-1}var AMnames=[],AMnestingDepth,AMpreviousSymbol,AMcurrentSymbol;function initSymbols(){var i,symlen=AMsymbols.length;for(i=0;i<symlen;i++)AMsymbols[i].tex&&AMsymbols.push({input:AMsymbols[i].tex,tag:AMsymbols[i].tag,output:AMsymbols[i].output,ttype:AMsymbols[i].ttype,acc:AMsymbols[i].acc||!1});refreshSymbols()}function refreshSymbols(){var i;for(AMsymbols.sort(compareNames),i=0;i<AMsymbols.length;i++)AMnames[i]=AMsymbols[i].input}function define(oldstr,newstr){AMsymbols.push({input:oldstr,tag:"mo",output:newstr,tex:null,ttype:DEFINITION}),refreshSymbols()}function AMremoveCharsAndBlanks(str,n){var st;st="\\"==str.charAt(n)&&"\\"!=str.charAt(n+1)&&" "!=str.charAt(n+1)?str.slice(n+1):str.slice(n);for(var i=0;i<st.length&&st.charCodeAt(i)<=32;i+=1);return st.slice(i)}function position(arr,str,n){if(0==n){var h,m;for(n=-1,h=arr.length;n+1<h;)arr[m=n+h>>1]<str?n=m:h=m;return h}for(var i=n;i<arr.length&&arr[i]<str;i++);return i}function AMgetSymbol(str){for(var k=0,j=0,mk,st,tagst,match="",more=!0,i=1;i<=str.length&&more;i++)st=str.slice(0,i),(k=position(AMnames,st,j=k))<AMnames.length&&str.slice(0,AMnames[k].length)==AMnames[k]&&(mk=k,i=(match=AMnames[k]).length),more=k<AMnames.length&&str.slice(0,AMnames[k].length)>=AMnames[k];if(AMpreviousSymbol=AMcurrentSymbol,""!=match)return AMcurrentSymbol=AMsymbols[mk].ttype,AMsymbols[mk];AMcurrentSymbol=0,k=1,st=str.slice(0,1);for(var integ=!0;"0"<=st&&st<="9"&&k<=str.length;)st=str.slice(k,k+1),k++;if("."==st&&"0"<=(st=str.slice(k,k+1))&&st<="9")for(integ=!1,k++;"0"<=st&&st<="9"&&k<=str.length;)st=str.slice(k,k+1),k++;return integ&&k>1||k>2?(st=str.slice(0,k-1),tagst="mn"):(k=2,tagst=("A">(st=str.slice(0,1))||st>"Z")&&("a">st||st>"z")?"mo":"mi"),"-"==st&&3==AMpreviousSymbol?(AMcurrentSymbol=3,{input:st,tag:tagst,output:st,ttype:1,func:!0}):{input:st,tag:tagst,output:st,ttype:0}}function AMremoveBrackets(node){var st;node.hasChildNodes()&&(!node.firstChild.hasChildNodes()||"mrow"!=node.nodeName&&"M:MROW"!=node.nodeName||"("!=(st=node.firstChild.firstChild.nodeValue)&&"["!=st&&"{"!=st||node.removeChild(node.firstChild),!node.lastChild.hasChildNodes()||"mrow"!=node.nodeName&&"M:MROW"!=node.nodeName||")"!=(st=node.lastChild.firstChild.nodeValue)&&"]"!=st&&"}"!=st||node.removeChild(node.lastChild))}function AMparseSexpr(str){var symbol,node,result,i,st,newFrag=document.createDocumentFragment();if(null==(symbol=AMgetSymbol(str=AMremoveCharsAndBlanks(str,0)))||5==symbol.ttype&&AMnestingDepth>0)return[null,str];if(symbol.ttype==DEFINITION&&(symbol=AMgetSymbol(str=symbol.output+AMremoveCharsAndBlanks(str,symbol.input.length))),"sqrt"==symbol.input&&0==str.indexOf("sqrt[")){var strOri=str,result1str=(result=AMparseSexpr(str=AMremoveCharsAndBlanks(str,symbol.input.length)))[1].toString(),strWithoutInput=strOri.substr(symbol.input.length),offset;if(strWithoutInput.indexOf(result1str)>2){var i=0,arr=strWithoutInput.split(""),n=0;for(i in arr)if("["==arr[i]&&n++,"]"==arr[i]&&n--,0==n){i++;break}var part0=strWithoutInput.substr(0,i),nexstr=strWithoutInput.substr(i),i=0,arr=nexstr.split(""),n=0;for(i in arr)if("{"==arr[i]&&n++,"}"==arr[i]&&n--,0==n){i++;break}var part1=nexstr.substr(0,i),part2=nexstr.substr(i),node0=AMremoveCharsAndBlanks(part0.substr(1,part0.length-2)),node1=AMremoveCharsAndBlanks(part1.substr(1,part1.length-2));result=AMparseSexpr(str=AMremoveCharsAndBlanks(strOri,symbol.input.length-1));var result1=AMparseSexpr(node1),result2=AMparseSexpr(node0),frag1,frag2,frag3,t,node;return t="mi",(frag1=isIE?document.createElement("m:"+t):document.createElementNS(AMmathml,t))&&frag1.appendChild(result1[0]),t="mn",(frag2=isIE?document.createElement("m:"+t):document.createElementNS(AMmathml,t))&&frag2.appendChild(result2[0]),t="mroot",(frag3=isIE?document.createElement("m:"+t):document.createElementNS(AMmathml,t)).appendChild(frag1.firstChild),frag3.appendChild(frag2.firstChild),[frag3,part2]}}switch(symbol.ttype){case 7:case 0:return str=AMremoveCharsAndBlanks(str,symbol.input.length),[createMmlNode(symbol.tag,document.createTextNode(symbol.output)),str];case 4:return AMnestingDepth++,result=AMparseExpr(str=AMremoveCharsAndBlanks(str,symbol.input.length),!0),AMnestingDepth--,"boolean"==typeof symbol.invisible&&symbol.invisible?node=createMmlNode("mrow",result[0]):(node=createMmlNode("mo",document.createTextNode(symbol.output)),(node=createMmlNode("mrow",node)).appendChild(result[0])),[node,result[1]];case 10:return symbol!=AMquote&&(str=AMremoveCharsAndBlanks(str,symbol.input.length)),-1==(i="{"==str.charAt(0)?str.indexOf("}"):"("==str.charAt(0)?str.indexOf(")"):"["==str.charAt(0)?str.indexOf("]"):symbol==AMquote?str.slice(1).indexOf('"')+1:0)&&(i=str.length)," "==(st=str.slice(1,i)).charAt(0)&&((node=createMmlNode("mspace")).setAttribute("width","1ex"),newFrag.appendChild(node)),newFrag.appendChild(createMmlNode(symbol.tag,document.createTextNode(st)))," "==st.charAt(st.length-1)&&((node=createMmlNode("mspace")).setAttribute("width","1ex"),newFrag.appendChild(node)),str=AMremoveCharsAndBlanks(str,i+1),[createMmlNode("mrow",newFrag),str];case 15:case 1:if(null==(result=AMparseSexpr(str=AMremoveCharsAndBlanks(str,symbol.input.length)))[0])return[createMmlNode(symbol.tag,document.createTextNode(symbol.output)),str];if("boolean"==typeof symbol.func&&symbol.func)return"^"==(st=str.charAt(0))||"_"==st||"/"==st||"|"==st||","==st||1==symbol.input.length&&symbol.input.match(/\w/)&&"("!=st?[createMmlNode(symbol.tag,document.createTextNode(symbol.output)),str]:((node=createMmlNode("mrow",createMmlNode(symbol.tag,document.createTextNode(symbol.output)))).appendChild(result[0]),[node,result[1]]);if(AMremoveBrackets(result[0]),"sqrt"==symbol.input)return[createMmlNode(symbol.tag,result[0]),result[1]];if(void 0!==symbol.rewriteleftright)return(node=createMmlNode("mrow",createMmlNode("mo",document.createTextNode(symbol.rewriteleftright[0])))).appendChild(result[0]),node.appendChild(createMmlNode("mo",document.createTextNode(symbol.rewriteleftright[1]))),[node,result[1]];if("cancel"==symbol.input)return(node=createMmlNode(symbol.tag,result[0])).setAttribute("notation","updiagonalstrike"),[node,result[1]];if("boolean"==typeof symbol.acc&&symbol.acc)return(node=createMmlNode(symbol.tag,result[0])).appendChild(createMmlNode("mo",document.createTextNode(symbol.output))),[node,result[1]];if(!isIE&&void 0!==symbol.codes)for(i=0;i<result[0].childNodes.length;i++)if("mi"==result[0].childNodes[i].nodeName||"mi"==result[0].nodeName){st="mi"==result[0].nodeName?result[0].firstChild.nodeValue:result[0].childNodes[i].firstChild.nodeValue;for(var newst=[],j=0;j<st.length;j++)st.charCodeAt(j)>64&&st.charCodeAt(j)<91?newst+=symbol.codes[st.charCodeAt(j)-65]:st.charCodeAt(j)>96&&st.charCodeAt(j)<123?newst+=symbol.codes[st.charCodeAt(j)-71]:newst+=st.charAt(j);"mi"==result[0].nodeName?result[0]=createMmlNode("mo").appendChild(document.createTextNode(newst)):result[0].replaceChild(createMmlNode("mo").appendChild(document.createTextNode(newst)),result[0].childNodes[i])}return(node=createMmlNode(symbol.tag,result[0])).setAttribute(symbol.atname,symbol.atval),[node,result[1]];case 2:return null==(result=AMparseSexpr(str=AMremoveCharsAndBlanks(str,symbol.input.length)))[0]?[createMmlNode("mo",document.createTextNode(symbol.input)),str]:(AMremoveBrackets(result[0]),null==(result2=AMparseSexpr(result[1]))[0]?[createMmlNode("mo",document.createTextNode(symbol.input)),str]:(AMremoveBrackets(result2[0]),"color"==symbol.input?("{"==str.charAt(0)?i=str.indexOf("}"):"("==str.charAt(0)?i=str.indexOf(")"):"["==str.charAt(0)&&(i=str.indexOf("]")),st=str.slice(1,i),(node=createMmlNode(symbol.tag,result2[0])).setAttribute("mathcolor",st),[node,result2[1]]):("root"!=symbol.input&&"stackrel"!=symbol.output||newFrag.appendChild(result2[0]),newFrag.appendChild(result[0]),"frac"==symbol.input&&newFrag.appendChild(result2[0]),[createMmlNode(symbol.tag,newFrag),result2[1]])));var result2;case 3:return str=AMremoveCharsAndBlanks(str,symbol.input.length),[createMmlNode("mo",document.createTextNode(symbol.output)),str];case 6:return str=AMremoveCharsAndBlanks(str,symbol.input.length),(node=createMmlNode("mspace")).setAttribute("width","1ex"),newFrag.appendChild(node),newFrag.appendChild(createMmlNode(symbol.tag,document.createTextNode(symbol.output))),(node=createMmlNode("mspace")).setAttribute("width","1ex"),newFrag.appendChild(node),[createMmlNode("mrow",newFrag),str];case 9:return AMnestingDepth++,result=AMparseExpr(str=AMremoveCharsAndBlanks(str,symbol.input.length),!1),AMnestingDepth--,st="",null!=result[0].lastChild&&(st=result[0].lastChild.firstChild.nodeValue),"|"==st?(node=createMmlNode("mo",document.createTextNode(symbol.output)),(node=createMmlNode("mrow",node)).appendChild(result[0]),[node,result[1]]):(node=createMmlNode("mo",document.createTextNode("∣")),[node=createMmlNode("mrow",node),str]);default:return str=AMremoveCharsAndBlanks(str,symbol.input.length),[createMmlNode(symbol.tag,document.createTextNode(symbol.output)),str]}}function AMparseIexpr(str){var symbol,sym1,sym2,node,result,underover;if(sym1=AMgetSymbol(str=AMremoveCharsAndBlanks(str,0)),node=(result=AMparseSexpr(str))[0],3==(symbol=AMgetSymbol(str=result[1])).ttype&&"/"!=symbol.input){if(null==(result=AMparseSexpr(str=AMremoveCharsAndBlanks(str,symbol.input.length)))[0]?result[0]=createMmlNode("mo",document.createTextNode("□")):AMremoveBrackets(result[0]),str=result[1],underover=7==sym1.ttype||15==sym1.ttype,"_"==symbol.input)if("^"==(sym2=AMgetSymbol(str)).input){var res2=AMparseSexpr(str=AMremoveCharsAndBlanks(str,sym2.input.length));AMremoveBrackets(res2[0]),str=res2[1],(node=createMmlNode(underover?"munderover":"msubsup",node)).appendChild(result[0]),node.appendChild(res2[0]),node=createMmlNode("mrow",node)}else(node=createMmlNode(underover?"munder":"msub",node)).appendChild(result[0]);else"^"==symbol.input&&underover?(node=createMmlNode("mover",node)).appendChild(result[0]):(node=createMmlNode(symbol.tag,node)).appendChild(result[0]);void 0!==sym1.func&&sym1.func&&3!=(sym2=AMgetSymbol(str)).ttype&&5!=sym2.ttype&&(result=AMparseIexpr(str),(node=createMmlNode("mrow",node)).appendChild(result[0]),str=result[1])}return[node,str]}function AMparseExpr(str,rightbracket){var symbol,node,result,i,newFrag=document.createDocumentFragment();do{node=(result=AMparseIexpr(str=AMremoveCharsAndBlanks(str,0)))[0],3==(symbol=AMgetSymbol(str=result[1])).ttype&&"/"==symbol.input?(null==(result=AMparseIexpr(str=AMremoveCharsAndBlanks(str,symbol.input.length)))[0]?result[0]=createMmlNode("mo",document.createTextNode("□")):AMremoveBrackets(result[0]),str=result[1],AMremoveBrackets(node),(node=createMmlNode(symbol.tag,node)).appendChild(result[0]),newFrag.appendChild(node),symbol=AMgetSymbol(str)):null!=node&&newFrag.appendChild(node)}while((5!=symbol.ttype&&(9!=symbol.ttype||rightbracket)||0==AMnestingDepth)&&null!=symbol&&""!=symbol.output);if(5==symbol.ttype||9==symbol.ttype){var len=newFrag.childNodes.length;if(len>0&&"mrow"==newFrag.childNodes[len-1].nodeName&&newFrag.childNodes[len-1].lastChild&&newFrag.childNodes[len-1].lastChild.firstChild){var right=newFrag.childNodes[len-1].lastChild.firstChild.nodeValue;if(")"==right||"]"==right){var left=newFrag.childNodes[len-1].firstChild.firstChild.nodeValue;if("("==left&&")"==right&&"}"!=symbol.output||"["==left&&"]"==right){var pos=[],matrix=!0,m=newFrag.childNodes.length;for(i=0;matrix&&i<m;i+=2){if(pos[i]=[],node=newFrag.childNodes[i],matrix&&(matrix="mrow"==node.nodeName&&(i==m-1||"mo"==node.nextSibling.nodeName&&","==node.nextSibling.firstChild.nodeValue)&&node.firstChild.firstChild.nodeValue==left&&node.lastChild.firstChild.nodeValue==right),matrix)for(var j=0;j<node.childNodes.length;j++)","==node.childNodes[j].firstChild.nodeValue&&(pos[i][pos[i].length]=j);matrix&&i>1&&(matrix=pos[i].length==pos[i-2].length)}if(matrix=matrix&&(pos.length>1||pos[0].length>0)){var row,frag,n,k,table=document.createDocumentFragment();for(i=0;i<m;i+=2){for(row=document.createDocumentFragment(),frag=document.createDocumentFragment(),n=(node=newFrag.firstChild).childNodes.length,k=0,node.removeChild(node.firstChild),j=1;j<n-1;j++)void 0!==pos[i][k]&&j==pos[i][k]?(node.removeChild(node.firstChild),row.appendChild(createMmlNode("mtd",frag)),k++):frag.appendChild(node.firstChild);row.appendChild(createMmlNode("mtd",frag)),newFrag.childNodes.length>2&&(newFrag.removeChild(newFrag.firstChild),newFrag.removeChild(newFrag.firstChild)),table.appendChild(createMmlNode("mtr",row))}node=createMmlNode("mtable",table),"boolean"==typeof symbol.invisible&&symbol.invisible&&node.setAttribute("columnalign","left"),newFrag.replaceChild(node,newFrag.firstChild)}}}}str=AMremoveCharsAndBlanks(str,symbol.input.length),"boolean"==typeof symbol.invisible&&symbol.invisible||(node=createMmlNode("mo",document.createTextNode(symbol.output)),newFrag.appendChild(node))}return[newFrag,str]}function parseMath(str,latex,repair){var frag,node;AMnestingDepth=0,repair&&(str=reconstructMatrix(str)),0==(str=(str=(str=(str=(str=(str=(str=(str=(str=(str=(str=(str=(str=(str=(str=(str=(str=(str=(str=(str=str||"").toString()).replace(/&nbsp;/g,"")).replace(/&gt;/g,">")).replace(/&lt;/g,"<")).replace(/&amp;/g,"&")).replace(/(Sin|Cos|Tan|Arcsin|Arccos|Arctan|Sinh|Cosh|Tanh|Cot|Sec|Csc|Log|Ln|Abs)/g,(function(v){return v.toLowerCase()}))).split("\\left(").join("(")).split("\\right)").join(")")).split("\\left\\{").join("{")).split("\\right\\}").join("}")).split("\\left[").join("[")).split("\\right]").join("]")).split("\\left|").join("|")).split("\\right|").join("|")).split("\\sqrt[").join("\\root[")).split("&amp;").join("&")).split("\\begin{matrix}").join("\\begin{array}")).split("\\end{matrix}").join("\\end{array}")).split("\\begin{array}{ccc}").join("\\begin{array}")).indexOf("\\begin{array}")&&(str="["+str+"]");var len=str.length,found,p1=0,p2=0,tmp1="",tmp2="",arr1=[],arr2=[],array3=[],startPos=[],endPos=[],symbolBefofe=[],symbolAfter=[],i,j,k,l,m,n,o,q,r,s;do{var sp,ep;if(found=!1,(p1=str.indexOf("\\begin{array}",p2))>-1)if((p2=str.indexOf("\\end{array}",p1+12))>-1)arr1.push(str.substr(p1,p2+11-p1)),arr2.push(str.substr(p1+13,p2-p1-13)),sp=p1,ep=p2+11,startPos.push(sp),endPos.push(ep),0==sp?(symbolBefofe.push(""),symbolAfter.push("")):"|"==str.substr(sp-1,1)&&"|"==str.substr(ep,1)?(symbolBefofe.push("|"),symbolAfter.push("|")):"["==str.substr(sp-1,1)&&"]"==str.substr(ep,1)?(symbolBefofe.push("["),symbolAfter.push("]")):(symbolBefofe.push(""),symbolAfter.push("")),found=!0}while(found);if(arr2.length>0){for(i in arr2){for(l=(k=(j=(j=arr2[i]||"").toString()).trim()).split("\\\\"),r=new Array,m=0;m<l.length;m++)(n=(n=(n=l[m]||"").toString()).trim()).length&&(p=n.split("&"),r.push(p));var objectArr={matrix:r,startPos:startPos[i],endPos:endPos[i],symbolBefore:symbolBefofe[i],symbolAfter:symbolAfter[i]};array3.push(objectArr)}if(array3.length>0)for(i=0;i<array3.length;i++){var a=[],b,c;if("|"==array3[i].symbolBefore){var k,l,m;for(k=0;k<array3[i].matrix.length;k++)l=array3[i].matrix[k],a.push("["+l.join(", ")+"]");str=str.replace("|"+arr1[i]+"|","|"+a.join(", ")+"|")}else if("["==array3[i].symbolBefore){var k,l,m;for(k=0;k<array3[i].matrix.length;k++)l=array3[i].matrix[k],a.push("("+l.join(", ")+")");str=str.replace("["+arr1[i]+"]","["+a.join(", ")+"]")}else if(""==array3[i].symbolBefore){var k,l,m;for(k=0;k<array3[i].matrix.length;k++)l=array3[i].matrix[k],a.push("("+l.join("), (")+")");str=str.replace("["+arr1[i]+"]","["+a.join(", ")+"]")}}}return(node=createMmlNode("mstyle",frag=AMparseExpr(str.replace(/^\s+/g,""),!1)[0])).setAttribute("mathvariant","serif"),node.setAttribute("displaystyle","true"),node=createMmlNode("math",node)}function strarr2docFrag(arr,linebreaks,latex){for(var newFrag=document.createDocumentFragment(),expr=!1,i=0;i<arr.length;i++){if(expr)newFrag.appendChild(parseMath(arr[i],latex));else{var arri=linebreaks?arr[i].split("\n\n"):[arr[i]];newFrag.appendChild(createElementXHTML("span").appendChild(document.createTextNode(arri[0])));for(var j=1;j<arri.length;j++)newFrag.appendChild(createElementXHTML("p")),newFrag.appendChild(createElementXHTML("span").appendChild(document.createTextNode(arri[j])))}expr=!expr}return newFrag}function AMautomathrec(str){var texcommand="\\\\[a-zA-Z]+|\\\\\\s|",ambigAMtoken="\\b(?:oo|lim|ln|iiiint|oiiint|iiint|oiint|iint|oint|int|del|grad|aleph|prod|prop|sinh|cosh|tanh|cos|sec|pi|tt|fr|sf|sube|supe|sub|sup|det|mod|gcd|lcm|min|max|vec|ddot|ul|chi|eta|nu|mu)(?![a-z])|",englishAMtoken="\\b(?:sum|ox|log|sin|tan|dim|hat|bar|dot)(?![a-z])|",secondenglishAMtoken,simpleAMtoken="NN|ZZ|QQ|RR|CC|TT|AA|EE|sqrt|dx|dy|dz|dt|xx|vv|uu|nn|bb|cc|csc|cot|alpha|beta|delta|Delta|epsilon|gamma|Gamma|kappa|lambda|Lambda|omega|phi|Phi|Pi|psi|Psi|rho|sigma|Sigma|tau|theta|Theta|xi|Xi|zeta",letter,token="[a-zA-HJ-Z](?=(?:[^a-zA-Z]|$|"+ambigAMtoken+englishAMtoken+simpleAMtoken+"))|"+texcommand+"\\d+|[-()[\\]{}+=*&^_%\\@/<>,\\|!:;'~]|\\.(?!(?: |$))|"+ambigAMtoken+englishAMtoken+simpleAMtoken,re=new RegExp("(^|\\s)((("+token+")\\s?)(("+token+"|\\bI\\b|\\bin\\b|\\btext\\b"+")\\s?)+)([,.?]?(?=\\s|$))","g"),arr=(str=str.replace(re," `$2`$7")).split("`"),re1=new RegExp("(^|\\s)([b-zB-HJ-Z+*<>]|"+texcommand+ambigAMtoken+simpleAMtoken+")(\\s|\\n|$)","g"),re2=new RegExp("(^|\\s)([a-z]|"+texcommand+ambigAMtoken+simpleAMtoken+")([,.])","g");for(i=0;i<arr.length;i++)i%2==0&&(arr[i]=arr[i].replace(re1," `$2`$3"),arr[i]=arr[i].replace(re2," `$2`$3"),arr[i]=arr[i].replace(/([{}[\]])/,"`$1`"));return str=(str=(str=(str=(str=(str=(str=arr.join("`")).replace(/((^|\s)\([a-zA-Z]{2,}.*?)\)`/g,"$1`)")).replace(/`(\((a\s|in\s))(.*?[a-zA-Z]{2,}\))/g,"$1`$3")).replace(/\sin`/g,"` in")).replace(/`(\(\w\)[,.]?(\s|\n|$))/g,"$1`")).replace(/`([0-9.]+|e.g|i.e)`(\.?)/gi,"$1$2")).replace(/`([0-9.]+:)`/g,"$1")}function latexToMathML(latexString,latex,repair){var elem=parseMath(latexString,latex,repair);return elem.setAttribute("xmlns",AMmathml),elem.outerHTML}function latexToSVG(latexString,latex,repair){var elem=parseMath(latexString,latex,repair);elem.setAttribute("xmlns",AMmathml);var span=document.createElement("span");span.setAttribute("id","mathml"),span.style.fontFamily="Times",span.style.fontSize="16px",span.style.visibility="hidden",span.style.visibility="hidden",span.style.display="inline-block",span.style.position="absolute",span.style.left="-100000px",span.style.top="-100000px",span.appendChild(elem),document.body.appendChild(span);var e=elem.getBoundingClientRect(),s=span.getBoundingClientRect(),width,height,svg;return document.body.removeChild(span),'<svg xmlns="http://www.w3.org/2000/svg" width="'+Math.ceil(e.width)+'" height="'+Math.ceil(s.height)+'"><foreignObject width="100%" height="100%"><div xmlns="http://www.w3.org/1999/xhtml">'+elem.outerHTML+"</div></foreignObject></svg>"}var map={9618:32,8289:32,12310:40,12311:41},sym={"∑":"sum","√":"sqrt","⨌":"iiiint","∰":"oiiint","∭":"iiint","∯":"oiint","∬":"iint","∮":"oint","∫":"int","┬":"_","¹":"^{1}","²":"^{2}","³":"^{3}","½":"frac{1}{2}","⅓":"frac{1}{3}","¼":"frac{1}{4}","⅕":"frac{1}{5}","⅙":"frac{1}{6}","⅛":"frac{1}{8}","⅔":"frac{2}{3}","⅖":"frac{2}{5}","¾":"frac{3}{4}","⅗":"frac{3}{5}","⅜":"frac{3}{8}","⅘":"frac{4}{5}","⅚":"frac{5}{6}","⅝":"frac{5}{8}","⅞":"frac{7}{8}"},token="iiiint|oiiint|iiint|oiint|iint|oint|int|lim|ln|del|grad|aleph|prod|prop|sinh|cosh|tanh|cos|sec|pi|tt|fr|sf|sube|supe|sub|sup|det|mod|gcd|lcm|min|max|vec|ddot|ul|chi|eta|nu|mu|sum|ox|log|sin|tan|dim|hat|bar|dot";function filterData(data){var i,j,k,l;for(i in map)j=map[i],k=String.fromCharCode(i),l=String.fromCharCode(j),data=data.split(k).join(l);var arr=token.split("|");for(i in arr)data=(data=data.split(arr[i]).join("\\"+arr[i])).split("\\\\"+arr[i]).join("\\"+arr[i]);for(i in sym)data=data.split(i).join("\\"+sym[i]);return data=(data=(data=(data=(data=(data=(data=(data=(data=(data=(data=(data=(data=(data=(data=(data=(data=(data=(data=data.split("\\^").join("^")).split("\\_").join("_")).split("\\i\\i\\i\\int").join("\\iiiint")).split("\\o\\i\\i\\int").join("\\oiiint")).split("\\i\\i\\int").join("\\iiint")).split("\\o\\i\\int").join("\\oiint")).split("\\i\\i\\int").join("\\iint")).split("\\o\\int").join("\\oint")).split("\\\\iiiint").join("\\iiiint")).split("\\\\oiiint").join("\\oiiint")).split("\\\\iiint").join("\\iiint")).split("\\\\oiint").join("\\oiint")).split("\\\\iint").join("\\iint")).split("\\\\oint").join("\\oint")).split("\\\\i\\int").join("\\iint")).split("\\i\\int").join("\\iint")).split("\\\\int").join("\\int")).split("°").join("^{\\circ}")).split("&radic;").join("\\sqrt")}function reconstructVector(input){var str1=input,str2="",i,j,k,t1,t2,t3,final,flagCount=0;if(-1!=str1.indexOf(" ⃗")){var pos1,pos2=0,pos3,pos4;do{if(-1!=(pos1=str1.indexOf(" ⃗",pos2)))if(str2=str1.substr(0,pos1),pos2=pos1+1,")"==str1.substr(pos1-1,1)){for(flagCount=0,j=str2.length-1;j>=0&&(")"==str2.substr(j,1)&&flagCount++,"("==str2.substr(j,1)&&flagCount--,0!=flagCount);j--);t2=str2.substr(j+1,str2.length-j-2),t3=str2.substr(j,str2.length-j),t4="\\vec{"+t2+"} ",str1=str1.replace(t3+" ⃗",t4)}else t3=str2.substr(j-1,1),t4="\\vec{"+t3+"} ",str1=str1.replace(t3+" ⃗",t4)}while(-1!=pos1)}return str1}function reconstructMatrix(data){var i,j,k,l,m,chk,arr=data.split(""),arr1=[],arr2=[],array3=[],counting=!1,cnt=0,startPos=-1,endPos=-1,len=arr.length,h=0;for(i in arr)if(i<len-2&&9632==arr[i].charCodeAt(0))counting=!0,startPos=i;else{if(counting&&("("==arr[i]&&cnt++,")"==arr[i]&&cnt--,0==cnt)){endPos=i;var txt=data.substr(startPos,endPos-startPos+2);startPos>0&&("["==arr[startPos-1]?txt=data.substr(startPos-1,endPos-startPos+3):"|"==arr[startPos-1]&&(txt=data.substr(startPos-1,endPos-startPos+3))),arr1.push(txt),counting=!1}h++}for(i in arr1){var t1=arr1[i]||"",t2=(t1=t1.toString()).replace(String.fromCharCode(9632),""),t3,t4,t5,t6="["+t2.substr(0,t2.length).split("@").join("),(").split("&").join(",")+"]";"[["==t6.substr(0,2)&&"]]"==t6.substr(t6.length-2,2)?t6=t6.substr(1,t6.length-2):"[|"==t6.substr(0,2)&&"|]"==t6.substr(t6.length-2,2)&&(t6=t6.substr(1,t6.length-2));var test=t6.replace(/[^\(^\)^\[^\]]+/gi," "),arr_test=(test=test.trim()).split(" ");if("[("==arr_test[0]&&"))]"==arr_test[arr_test.length-1]){var test2=t6.substr(2,t6.length-5);t6="("+test2+"))"}data=data.replace(t1,t6)}return data}function reconstructSqrtWord(data){var i,j,k,l,m,chk,arr=data.split(""),arr1=[],arr2=[],array3=[],counting=!1,cnt=0,startPos=-1,endPos=-1,len=arr.length,h=0;for(i in arr)if(i<len-2&&8730==arr[i].charCodeAt(0)&&"("==arr[i].charCodeAt(1))counting=!0,startPos=i;else{if(counting&&("("==arr[i]&&cnt++,")"==arr[i]&&cnt--,0==cnt)){endPos=i;var txt=data.substr(startPos,endPos-startPos+1);startPos>0&&(txt=data.substr(startPos-1,endPos-startPos+2)),arr1.push(txt),counting=!1}h++}for(i in arr1){var t1=arr1[i]||"";if((t1=t1.toString()).indexOf("}{")>0||t1.indexOf("&")>0)var t2=t1.replace(String.fromCharCode(8730)+"(","\\root{");else var t2=t1.replace(String.fromCharCode(8730)+"(","\\sqrt{");var t3,t5,t6=t2.substr(0,t2.length-1).split("&").join("}{")+"}";data=data.replace(t1,t6)}return data}init(),asciimath.filterData=filterData,asciimath.reconstructMatrix=reconstructMatrix,asciimath.reconstructVector=reconstructVector,asciimath.reconstructSqrtWord=reconstructSqrtWord,asciimath.newcommand=newcommand,asciimath.newsymbol=newsymbol,asciimath.parseMath=parseMath,asciimath.latexToSVG=latexToSVG,asciimath.latexToMathML=latexToMathML}();