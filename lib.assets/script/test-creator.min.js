function updateToggle(){$(".toggle-tr").each((function(index,element){let row,sel=$(this).attr("data-toggle");$(':input[name="'+sel+'"]').change()}))}function initToggle(){$(".toggle-tr").each((function(index,element){let row=$(this),sel=row.attr("data-toggle");$(':input[name="'+sel+'"]').on("change",(function(){let val="0";val="checkbox"==$(this).attr("type")||"radio"==$(this).attr("type")?$(this)[0].checked?$(this).attr("value"):"0":$(this).val(),val||(val="0"),val==row.attr("data-show-condition")&&row.css({display:"table-row"}),val==row.attr("data-hide-condition")&&row.css({display:"none"})}))}))}function buildClassOption(list,value,schoolProgramId){let i,j,k,html="",sel="",classArr=value.split(",");for(i in html+='<ul class="class-list">',list)""!=schoolProgramId&&schoolProgramId!=list[i].school_program_id||(sel=-1!=$.inArray(list[i].class_id,classArr)?' checked="checked"':"",html+='<li class="class-item"><label><input class="form-check-input" type="checkbox" value="'+list[i].class_id+'"'+sel+"> <span>"+list[i].name+"</span></label></li>");return html+="</ul>",html}function selectClass(){let classListStr=$("#classlist").val(),schoolProgramId=$("#school_program_id").val();$("#class-list-container").empty().append(buildClassOption(classList,classListStr,schoolProgramId)),$("#select-class-modal").modal("show")}$(document).ready((function(e){setTimeout((function(){initToggle(),updateToggle()}),100),setTimeout((function(){let duration=parseInt(parseInt($("#duration").val()||"0")/60);$("#duration").val(duration)}),500),$(document).on("click","#select-class",(function(e2){selectClass(),e2.preventDefault()})),$("#update-class").on("click",(function(e){let arr=[];$(".class-list .class-item").each((function(index,element){let input=$(this).find("input");input[0].checked&&arr.push(input.val())})),$("#classlist").val(arr.join(",")),$("#select-class-modal").modal("hide")}))}));