function addslashes(e){var a=new RegExp("'","g");return e.replace(a,"\\'")}function basename(e){return e.replace(/\\/g,"/").replace(/.*\//,"")}function dirname(e){return e.replace(/\\/g,"/").replace(/\/[^\/]*$/,"")}function getfileextension(e){return/[.]/.exec(e)?/[^.]+$/.exec(e):""}function removefileextension(e){return e.replace(/\.[^/.]+$/,"")}function fileBrowserCallBack(e,a,t,i){if("add"==editState)confirm("Anda harus menyimpan artikel ini terlebih dahulu sebelum melanjutkan. Apakah Anda akan menyimpan artikel ini sekarang?")&&$("#articleform").append('<input type="hidden" name="draff" value="Draff">').submit();else{var n=$("#articleform").find("#article_id").val();-1!=a.indexOf("data:")&&(a=""),""==a&&(a=defaultdir);var r="lib.tools/filemanager/?article_id="+n+"&editor=tiny_mce&type="+t+"&field_name="+e+"&dir=base/"+dirname(a=a.substr(21));switch(t){case"image":case"media":case"flash":case"file":break;default:return!1}tinyMCE.activeEditor.windowManager.open({url:r,width:800,height:480,resizable:!0,maximizable:!0,inline:"yes",close_previous:"no"},{window:i,input:e})}}function pasteHandler(e){function a(e){e&&(reader=new FileReader,reader.onload=function(e){t(e.target.result)},reader.readAsDataURL(e))}function t(e){if(-1==window.navigator.userAgent.toString().indexOf("Firefox")){var a='<img src="'+e+'" data-mce-selected="1"></img>';window.tinyMCE.execCommand("mceInsertContent",!1,a)}}var i;if(e.clipboardData?i=e.clipboardData:window.clipboardData&&(i=window.clipboardData),e.msConvertURL){var n=i.files;if(n.length>0)for(r=0;r<n.length;r++)a(l=n[r])}if(i&&i.items){if(text=i.getData("text/plain"))return;for(var r=0;r<i.items.length;r++)if(-1!==i.items[r].type.indexOf("image")){var l=i.items[r].getAsFile();a(l)}}}function buildClassOption(e,a){var t,i="",n=a.split(",");i+='<ul class="class-list">';for(t in e)i+='<li class="class-item'+(-1!=$.inArray(e[t].class_id,n)?" class-item-selected":"")+'" data-class-id="'+e[t].class_id+'"><a href="javascript:;">'+e[t].name+"</a></li>";return i+="</ul>"}function selectClass(){var e=$("#articleform #classlist").val(),a='<div class="overlay-dialog-area">\r\n\t<h3>Select Class</h3>\r\n    <div class="select-class-area">\r\n'+buildClassOption(classList,e)+'    </div>\r\n    <div class="button-area" style="text-align:center">\r\n    \t<input type="button" class="com-button" id="update-class" value="Terapkan" />\r\n    \t<input type="button" class="com-button" id="cancel-class" value="Batalkan" />\r\n    </div>\r\n</div>\r\n';overlayDialog(a,400,360),$(".class-item").each(function(e,a){$(this).find("a").on("click",function(e){$(this).parent().toggleClass("class-item-selected"),e.preventDefault()})}),$("#update-class").on("click",function(e){var a=[];$(".class-item").each(function(e,t){$(this).hasClass("class-item-selected")&&a.push($(this).attr("data-class-id"))}),$("#articleform #classlist").val(a.join(",")),closeOverlayDialog()}),$("#cancel-class").on("click",function(e){closeOverlayDialog()})}var ascii_svg_server="lib.tools/asciisvg/svgimg.php",equation_preview_url="../../../../../../cgi-bin/equgen.cgi?",equation_generator_url="../../../../../../equgen.php?",equation_renderer_machine=navigator.userAgent.toString().indexOf("Firefox")>-1?"browser":"server",quran_server="../quran";$(document).ready(function(){$("textarea").length&&($("textarea#content").tinymce({script_url:"../lib.assets/script/tiny_mce/tiny_mce.js",theme:"advanced",ascii_svg_server:ascii_svg_server,equation_preview_url:equation_preview_url,equation_generator_url:equation_generator_url,equation_renderer_machine:equation_renderer_machine,quran_server:quran_server,plugins:"autolink,lists,style,table,advhr,advimage,advlink,inlinepopups,insertdatetime,preview,media,searchreplace,print,contextmenu,paste,directionality,fullscreen,noneditable,visualchars,nonbreaking,xhtmlxtras,template,advlist,quran,latex,equation,chem,asciisvg,chart",theme_advanced_buttons1:"pasteword,pastetext,undo,redo,search,bold,italic,underline,strikethrough,formatselect,fontselect,fontsizeselect,justifyleft,justifycenter,justifyright,justifyfull,ltr,rtl,numlist,bullist,indent,outdent,blockquote",theme_advanced_buttons2:"visualaid,forecolor,backcolor,removeformat,anchor,link,unlink,image,media,charmap,quran,sup,sub,latex,equation,chem,asciisvg,chart,hr,table,row_props,cell_props,col_after,col_before,row_after,row_before,merge_cells,split_cells,delete_col,delete_row,delete_table,quran,arabiceditor,code,preview",theme_advanced_buttons3:"",theme_advanced_buttons4:"",theme_advanced_toolbar_location:"top",theme_advanced_toolbar_align:"left",theme_advanced_statusbar_location:"bottom",theme_advanced_resizing:!0,theme_advanced_resize_horizontal:!1,extended_valid_elements:"iframe[style|src|title|width|height|allowfullscreen|frameborder]",content_css:"../lib.assets/theme/default/css/content.css",file_browser_callback:"fileBrowserCallBack",apply_source_formatting:!0,accessibility_warnings:!1,template_replace_values:{username:"Kamshory",staffid:"612126"}}),setTimeout(function(){var e=document.getElementById("content_ifr");e.contentDocument||e.contentWindow.document},2e3)),$(document).on("click","#select-class",function(e){selectClass(),e.preventDefault()})});